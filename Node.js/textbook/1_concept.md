# Node.js 개요
나중에 수정 후 완성

### 1. Node.js란?
+ 크롬 V8 자바스크립트 엔진으로 빌드된 __자바스크립트 런타임__  

__런타임__ :  특정 언어로 만든 프로그램들을 실행할 수 있는 환경 
노드는 자바스크립트 프로그램을 컴퓨터에서 실행할 수 있게 해준다.  

### 2. Node.js 역사  
기존에는 javascript 프로그램을 인터넷 브라우저(브라우저도 자바스크립트 런타임) 에서만 실행할 수 있었다.
V8 엔진의 크롬은 속도가 매우 빨랐다.

### 3. Node.js 구성요소 
Node.js Core Library` :   
Node.js Bindings` :   
V8 : 오픈 소스 자바스크립트 엔진  
libuv : 비동기 I/O    

### 4. Node.js 모델
***
+ 4.1 이벤트 기반(event-driven)  
이벤트 기반이란 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식  
특정 이벤트가 발생할 때 무엇을 할지 미리 등록해야 함 (event listener에 callback 함수를 등록)
  + 이벤트 루프 : 어떤 순서로 콜백 함수를 호출할지 결정
  + 태스트 큐 : 이벤트 발생 후 호출되어야 할 콜백함수들이 기다리는 공간 
  + 백그라운드 : 타이머나 I/O 작업 콜백 또는 이벤트 리스너들이 대기하는 곳  
 
 + 4.2 논블로킹 I/O  
 : 이전 작업이 완료될 때까지 멈추지 않고 다음 작업을 수행
 Node 프로세스 외의 다른 컴퓨팅 자원을 사용할 수 있는 I/O 작업에 좋음
 
 + 4.3 싱글 스레드
스레드는 프로세스 내에서 실행되는 흐름의 단위  
노드는 스레드를 늘리는 대신, 프로세스 자체를 복사해 여러 작업을 동시에 처리하는 멀티 프로세싱 방식을 택함.  
cluster 모듈과 pm2 패키지에서 멀티 프로세싱 가능하게 함

# 서버로서의 노드
노드 서버는 I/O가 많은 작업에 적합하다.  
libuv 라이브러리를 사용하여 I/O 작업을 논블로킹 방식으로 처리해준다. 이렇게 되면 스레드 하나가 많은 I/O를 감당할 수 있지만 CPU 부하가 큰 작업에는 적합하지 않음.
CPU 연산을 많이 요구하면 블로킹이 발생함
=> 스레드가 에러로 인해 멈추지 않도록 잘 관리해야 함.

//알아두기만 하자
Apache, nginx, IIS  
Tomcat(WAS)

__Node.js는 내장된 웹 서버를 사용함. 
하지만 서버 규머가 커지면 nginx 등 웹 서버를 노드 서버와 연결해야 함__

### 5. 노드의 장점  
자바스크립트를 사용한다(생산성 좋음)  
__Go__처럼 비동기에 강점을 보이는 언어나  
__ngix__처럼 정적 파일 제공, 로드 밸런싱에 특화된 서버에 비해서는 속도가 느림.  

요즘은 XML 대신 JSON을 사용해서 데이터를 주고 받는데 JSON은 자바스크립트 형식이다.  

|장점|단점|
|------|---|
|컴퓨터 자원을 적게 사용| CPU 코어를 하나만 사용|
|I/O 작업 많은 서버 적합 | CPU 작업 많으면 부적합|
|멀티 스레드 방식보다 쉬움| 스레드 하나를 관리해야함|
|웹 서버가 내장됨 | 서버 규모가 커지면 관리하기 어려움|
|자바스크립트 사용 | 어중간한 성능|
|JSON 형식과 호환하기 쉬움|  

즉, 개수는 많지만 크기나 작은 데이터를 실시간으로 주고 받는데 적합.  
=> Network나 DB, Disk 작업 같은 I/O에 특화되어 있음.  
Ex) 실시간 채팅 어플리케이션, 주식 차트, JSON 데이터를 제공하는 API 서버  

CPU 많이 사용하는 작업을 위한 서버로는 비추  
Ex) 이미지, 비디오, 대규모 데이터 처리  

 AWS Lambda나 Google Cloud Functions 같은 서비스에서 노드로 CPU를 많이 사용하는 작업을 처리하는 것을 지원.
 
 템플릿 엔진 : Pug EJS   
 
 노드 사용하는 곳 : NASA, 에어비엔비, 우버, 넷플릭스, 링크드인, 페이팔, 월마트, 이베이
 
 # 서버 외의 노드
 ### 웹 프레임워크   
 Angular : 구글 진영에서 프런트엔드 앱 만들때 
 React : 페이스북 진영
 Vue : 
 Meteor : 
 
 모바일 개발 도구  
 React Native  
 Ionic Framework  
 
 데스크톱 개발 도구  
 Electron : (Ex, Atom, Slack, Discord ,VS code)  
